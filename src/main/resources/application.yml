spring:
  batch:
    jdbc:
      initialize-schema: always
    job:
      enabled: false
  mvc:
    dispatch-options-request: true
  datasource:
    driverClassName: org.postgresql.Driver
    url: jdbc:postgresql://localhost:5439/db
    username: postgres
    password: postgres
    testOnBorrow: true
    timeBetweenEvictionRunsMillis: 60000
    validationQuery: SELECT 1
  jpa:
    hibernate:
      ddl-auto: validate
      # current_session_context_class: org.springframework.orm.hibernate6.SpringSessionContext
    properties:
    # hibernate:
    # format_sql: true
    # show_sql: true
    # default_schema: public
    # generate_statistics: true
    # highlight_sql: true
    # order_inserts: true
    # order_updates: true
    # current_session_context_class: org.springframework.orm.hibernate6.SpringSessionContext
    # jdbc:
    #batch_size: 50
    #batch_versioned_data: true
    #show-sql: true
    database-platform: org.hibernate.dialect.PostgreSQLDialect
  liquibase:
    change-log: classpath:/database/db.changelog.xml
    enabled: true
  servlet:
    multipart:
      enabled: false

server:
  port: 8081
com:
  andreidodu:
    europea-library:
      core-pool-size: 6
      max-pool-size: 12
      client:
        url: http://localhost:4200
      task:
        indexer:
          cron:
            expression: "0 0 */23 * * ?"
      job:
        indexer:
          # the directory that contains all your e-book which need to be indexed
          e-books-directory: "/your/path/to/e-books/directory"
          step-indexer:
            force-load-meta-info-from-web: false
            override-meta-info: false
            # will be skipped by strategy
            do-not-extract-metadata-from-file-extensions:
            # file will be skipped and not stored on db
            skip-file-extensions:
            # file will be taken in consideration and stored on db
            allow-file-extensions:
            # disables the strategy
            disable-epub-metadata-extractor: false
            # disables the strategy
            disable-pdf-metadata-extractor: false
            batch-size: 5000
          step-parent-associator-step:
            batch-size: 5000
          step-file-hash-updater:
            batch-size: 5000
          step-meta-info-writer:
            disable-isbn-extractor: false
            batch-size: 5000
          step-ext-meta-info-writer:
            batch-size: 1
          step-step-updater:
            batch-size: 5000
          step-fmi-obsolete-deleter:
            batch-size: 5000
          step-fsi-obsolete-deleter:
            batch-size: 5000
          step-tag-obsolete-deleter:
            batch-size: 5000
          step-category-obsolete-deleter:
            batch-size: 5000

batch-db:
  url: jdbc:postgresql://localhost:5439/db
  username: postgres
  password: postgres

google:
  books:
    query-url: https://www.googleapis.com/books/v1/volumes
    api_key:





logging:
  file:
    name: /home/andrei/Desktop/europea-library.log
  level:
    com:
      andreidodu: ERROR
    org:
      apache:
        pdfbox: OFF
        fontbox: OFF
    nl:
      siegmann:
        epublib: OFF

#logging.level.org.hibernate: ERROR #info
#logging.level.org.hibernate.SQL: ERROR #debug
#logging.level.org.hibernate.orm.jdbc.bind: ERROR # trace
#logging.level.org.hibernate.stat: ERROR # debug
#logging.level.org.hibernate.SQL_SLOW: ERROR # info
#logging.level.org.hibernate.cache: ERROR #debug
